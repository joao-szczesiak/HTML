(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6752],{12253:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/discover/course/[courseSlug]/[...path]",function(){return i(149)}])},60477:function(e,n,i){"use strict";i.d(n,{r:function(){return m}});var t=i(52322),r=i(2784),o=i(60664),l=i(63955),s=i(4187),a=i(36471),d=i(98858),c=i(39366);let u=(0,c.zo)(d.xu,{gap:"$4",padding:"0 $4",display:"flex",alignItems:"center",marginBottom:"$3",borderRadius:"$sm",border:"1.5px solid $grey-600","&:hover":{borderColor:"$discover-light"},'&:has(button[data-state="checked"])':{borderColor:"$discover-light"}}),p=(0,c.zo)(o.ck,{width:"$4",height:"$4",borderRadius:"$full",background:"$grey-900",border:"1px solid $grey-500",'&[data-state="checked"]':{background:"$discover-mid",padding:"0.3rem"}}),h=(0,c.zo)(o.z$,{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"$full",backgroundColor:"$white"}),g=(0,c.zo)(d.xu,{display:"flex",alignItems:"center",gap:"$4",width:"100%",label:{padding:"$4",minWidth:"fit-content"},"label:only-child":{width:"100%"}}),x=(0,c.zo)("input",{padding:"$1",height:"$10",borderTop:"none",borderLeft:"none",borderRight:"none",borderRadius:"unset",background:"$shape-primary","&:focus":{borderColor:"$discover-light"},variants:{error:{true:{"&:focus":{borderColor:"$danger-base"}}}}}),m=e=>{var n,i,d;let{data:c}=e,{control:m,register:v,setFocus:f,setValue:b,watch:y,resetField:j,formState:{errors:w}}=(0,l.Gc)(),{answers:$,currentQuestion:k}=(0,a.Z)(),C=y(),z=null==c?void 0:null===(n=c.options)||void 0===n?void 0:n.find(e=>"INPUT_TEXT"===e.type),I=z&&C[null==c?void 0:c.identifier]===(null==z?void 0:z.value),S=null==$?void 0:$.find(e=>{var n;return(null==e?void 0:null===(n=e.answers)||void 0===n?void 0:n.questionId)===(null==k?void 0:k.id)}),T=(null==S?void 0:null===(i=S.answers)||void 0===i?void 0:i.optionId)===(null==z?void 0:z.id),E=null==c?void 0:null===(d=c.options)||void 0===d?void 0:d.find(e=>{var n;return(null==e?void 0:e.id)===(null==S?void 0:null===(n=S.answers)||void 0===n?void 0:n.optionId)});return(0,r.useEffect)(()=>{S&&b(null==c?void 0:c.identifier,null==E?void 0:E.value),S||b(null==c?void 0:c.identifier,""),T&&b("".concat(null==z?void 0:z.identifier,"-").concat(null==z?void 0:z.type),null==S?void 0:S.answers.value)},[S,T]),(0,r.useEffect)(()=>{I&&f("".concat(null==z?void 0:z.identifier,"-").concat(null==z?void 0:z.type)),I||j("".concat(null==z?void 0:z.identifier,"-").concat(null==z?void 0:z.type))},[I]),(0,t.jsx)(l.Qr,{control:m,name:null==c?void 0:c.identifier,render:e=>{var n;let{field:i}=e;return(0,t.jsx)(o.fC,{value:i.value,onValueChange:i.onChange,children:null==c?void 0:null===(n=c.options)||void 0===n?void 0:n.map(e=>{let{value:n,identifier:r,type:o}=e;return(0,t.jsxs)(u,{children:[(0,t.jsx)(p,{value:n,id:r,checked:i.value===n,children:(0,t.jsx)(h,{})}),(0,t.jsxs)(g,{children:[(0,t.jsx)("label",{htmlFor:r,children:(0,t.jsx)(s.U,{children:n})}),I&&(null==z?void 0:z.value)===n?(0,t.jsx)(x,{...v("".concat(r,"-").concat(o),{required:!0}),error:!!w["".concat(r,"-").concat(o)],type:"text"}):null]})]},r)})})}})}},36433:function(e,n,i){"use strict";i.d(n,{Go:function(){return z},Kb:function(){return y},cq:function(){return f},ii:function(){return k},wZ:function(){return w}});var t,r,o,l,s=i(73235),a=i(10081),d=i(32225),c=i(81964);function u(){let e=(0,s._)(["\n  mutation Answers($answers: [CreateAnswerInput!]!, $identifier: String!) {\n    createAnswerInBulk(answers: $answers, identifier: $identifier)\n  }\n"]);return u=function(){return e},e}function p(){let e=(0,s._)(["\n  query GetQuestionGroupReport($groupIdentifier: String!) {\n    getQuestionGroupReport(groupIdentifier: $groupIdentifier) {\n      submittedAt\n      questionsCount\n      correctAnswersCount\n    }\n  }\n"]);return p=function(){return e},e}function h(){let e=(0,s._)(["\n  query GetQuestionsWithAnswerByGroupSlug($identifier: String!) {\n    questionsByGroupSlug(identifier: $identifier) {\n      id\n      value\n      identifier\n      userAnswer {\n        isCorrect\n        option {\n          identifier\n          value\n        }\n      }\n    }\n  }\n"]);return h=function(){return e},e}function g(){let e=(0,s._)(["\n  query QuestionsByGroupId($id: String!) {\n    questionsByGroupId(id: $id) {\n      id\n      value\n      type\n      identifier\n      isRequired\n      options {\n        id\n        value\n        type\n        identifier\n      }\n    }\n  }\n"]);return g=function(){return e},e}function x(){let e=(0,s._)(["\n  query QuestionsByGroupSlug($identifier: String!) {\n    questionsByGroupSlug(identifier: $identifier) {\n      id\n      value\n      type\n      identifier\n      isRequired\n      options {\n        id\n        value\n        type\n        identifier\n      }\n    }\n  }\n"]);return x=function(){return e},e}let m={};(t=o||(o={})).InputText="INPUT_TEXT",t.NoBehavior="NO_BEHAVIOR",t.Unique="UNIQUE",(r=l||(l={})).Boolean="BOOLEAN",r.DateTime="DATE_TIME",r.MultipleChoice="MULTIPLE_CHOICE",r.SingleChoice="SINGLE_CHOICE",r.Text="TEXT";let v=(0,a.Ps)(u());function f(e){let n={...m,...e};return d.D(v,n)}let b=(0,a.Ps)(p());function y(e){let n={...m,...e};return c.a(b,n)}let j=(0,a.Ps)(h());function w(e){let n={...m,...e};return c.a(j,n)}let $=(0,a.Ps)(g());function k(e){let n={...m,...e};return c.a($,n)}let C=(0,a.Ps)(x());function z(e){let n={...m,...e};return c.a(C,n)}},76395:function(e,n,i){"use strict";i.d(n,{E:function(){return a}});var t=i(52322),r=i(98858),o=i(39366);let l=(0,o.zo)(r.xu,{gap:"$4",display:"flex",alignItems:"center",justifyContent:"space-between",span:{margin:0},"@mobile":{justifyContent:"center"}}),s=(0,o.zo)("progress",{width:"7.5rem",height:"2px",borderRadius:"0.31rem",appearance:"none",transition:"width 0.4s ease-out","&::-webkit-progress-bar":{backgroundColor:"$grey-500"},"&::-webkit-progress-value":{backgroundColor:"$discover-mid"},"&::-moz-progress-bar":{backgroundColor:"$discover-mid"}}),a=e=>{let{currentStep:n,totalStep:i}=e,o=null==n?void 0:n.toString().padStart(2,"0"),a=null==i?void 0:i.toString().padStart(2,"0");return(0,t.jsxs)(l,{children:[(0,t.jsx)(r.xv,{as:"span",size:"sm",css:{fontWeight:"bold",color:"#fff"},children:o}),(0,t.jsx)(s,{value:n/i*100,max:100}),(0,t.jsx)(r.xv,{as:"span",size:"sm",children:a})]})}},67347:function(e,n,i){"use strict";i.d(n,{Z:function(){return l}});var t=i(52322),r=i(38421),o=i.n(r);function l(e){return(0,t.jsx)("div",{...e,children:(0,t.jsx)(o(),{src:"/assets/icons/discover/test-emoji.svg",width:"64",height:"64",objectFit:"cover",quality:100})})}},49025:function(e,n,i){"use strict";i.d(n,{$K:function(){return s},DT:function(){return a},Gx:function(){return l},y:function(){return o}});var t=i(52322),r=i(98858);let o=()=>(0,t.jsx)(r.wu,{children:(0,t.jsxs)(r.xu,{css:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"$sm",background:"$grey-800"},children:[(0,t.jsx)(r.xu,{css:{width:"40%"},children:(0,t.jsx)(r.qm,{type:"line",height:20})}),(0,t.jsx)(r.xu,{css:{width:"100%"},children:(0,t.jsx)(r.qm,{type:"line",height:16})}),(0,t.jsx)(r.xu,{css:{width:"80%"},children:(0,t.jsx)(r.qm,{type:"line",height:16})}),(0,t.jsxs)(r.xu,{css:{width:"100%",marginTop:"$4"},children:[(0,t.jsx)(r.qm,{type:"rectangle",height:52}),(0,t.jsx)(r.qm,{type:"rectangle",height:52}),(0,t.jsx)(r.qm,{type:"rectangle",height:52})]})]})}),l=()=>(0,t.jsx)(r.wu,{css:{width:"100%"},children:(0,t.jsxs)(r.xu,{css:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",padding:"$6",margin:"0 auto",borderRadius:"$sm",maxWidth:"24.875rem",background:"$grey-800"},children:[(0,t.jsx)(r.xu,{css:{width:"4rem"},children:(0,t.jsx)(r.qm,{type:"rectangle",height:64})}),(0,t.jsx)(r.xu,{css:{width:"80%"},children:(0,t.jsx)(r.qm,{type:"line",height:32})}),(0,t.jsx)(r.xu,{css:{width:"100%",marginTop:"$4"},children:(0,t.jsx)(r.qm,{type:"rectangle",height:128})}),(0,t.jsxs)(r.xu,{css:{width:"90%",marginTop:"3.5rem",display:"flex",gap:"$2"},children:[(0,t.jsx)(r.qm,{type:"rectangle",height:48}),(0,t.jsx)(r.qm,{type:"rectangle",height:48})]})]})}),s=()=>(0,t.jsx)(r.wu,{css:{width:"100%"},children:(0,t.jsxs)(r.xu,{css:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",padding:"$6",margin:"0 auto",borderRadius:"$sm",maxWidth:"24.875rem",background:"$grey-800"},children:[(0,t.jsx)(r.xu,{css:{width:"4rem"},children:(0,t.jsx)(r.qm,{type:"rectangle",height:64})}),(0,t.jsx)(r.xu,{css:{width:"80%"},children:(0,t.jsx)(r.qm,{type:"line",height:32})}),(0,t.jsx)(r.xu,{css:{width:"100%",marginTop:"$4"},children:(0,t.jsx)(r.qm,{type:"rectangle",height:128})}),(0,t.jsx)(r.xu,{css:{width:"60%",marginTop:"3.5rem",display:"flex",gap:"$2"},children:(0,t.jsx)(r.qm,{type:"rectangle",height:48})})]})}),a=()=>(0,t.jsx)(r.wu,{css:{width:"100%"},children:(0,t.jsxs)(r.xu,{css:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",padding:"$6",margin:"0 auto",borderRadius:"$sm",maxWidth:"24.875rem",background:"$grey-800"},children:[(0,t.jsx)(r.xu,{css:{width:"4rem"},children:(0,t.jsx)(r.qm,{type:"rectangle",height:64})}),(0,t.jsx)(r.xu,{css:{width:"80%"},children:(0,t.jsx)(r.qm,{type:"line",height:32})}),(0,t.jsx)(r.xu,{css:{width:"100%",marginTop:"$4"},children:(0,t.jsx)(r.qm,{type:"rectangle",height:256})}),(0,t.jsxs)(r.xu,{css:{width:"90%",marginTop:"$8",display:"flex",gap:"$2"},children:[(0,t.jsx)(r.qm,{type:"rectangle",height:48}),(0,t.jsx)(r.qm,{type:"rectangle",height:48})]})]})})},149:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSG:function(){return iq},default:function(){return iR}});var t,r,o=i(52322),l=i(2784),s=i(98858),a=i(97361),d=i(31807),c=i(12436),u=i.n(c),p=i(39097),h=i.n(p),g=i(5632),x=i(4187),m=i(57892),v=i(87686),f=i(76118);let b=async e=>{let{email:n,event:i,value:t}=e;await f.h.post("/hubspot/contacts",{email:n,properties:{[i]:t}})},y=e=>(0,v.D)({mutationKey:["FireEventToHubspot"],mutationFn:e=>b(e),...e});var j=i(39366),w=i(52914);let $=(0,j.zo)("div",{fontSize:"16px",lineHeight:"1.5","> * + *":{marginTop:"1.5em"},p:{color:"#e1e1e6"},pre:{padding:"1em 1.5em !important",lineHeight:"2"},"pre, code":{fontSize:"14px",fontFamily:"'Fira Code', monospace",background:"$grey-800 !important",borderRadius:"5px",whiteSpace:"pre-wrap"},"p > code":{padding:"5px",margin:"0 4px"},a:{color:"#8257e6",fontWeight:"bold","&:hover":{color:"#896ceb",textDecoration:"underline"}},variants:{preview:{true:{height:"304px",overflowY:"auto",padding:"14px 20px",background:"rgba(0, 0, 0, 0.12)",borderRadius:"5px",scrollbarStyle:w.T}}},"@media (max-width: 768px)":{fontSize:"15px","pre, code":{fontSize:"13px"}}});var k=i(35766),C=i(64654),z=i(51208),I=i(83018),S=i(28378),T=i(55616),E=i(44805);let R=e=>{let n,i,{lessonGroups:t,currentGroup:r,currentLesson:o}=e,l=t.findIndex(e=>e.id===r.id),s=r.lessons.findIndex(e=>e.id===o.id),a=s===r.lessons.length-1,d=l===t.length-1;if(a)a&&!d&&(n=t[l+1],[i]=n.lessons);else{let e=r.lessons[s+1],o=s+1===r.lessons.length-1,a=r.lessons[s+2],d=(null==e?void 0:e.type)==="MATERIAL",c=o&&d;n=c?t[l+1]:r,c?[i]=n.lessons:i=d?a:e}return{nextGroup:n,nextLesson:i}};var q=i(81642),_=i(13099),D=i(89583),P=i(60155),A=i(33710),L=i(54073),U=i.n(L),N=i(28316),H=i(12341),O=i(21838),M=i(85932);let Z=(0,j.zo)("div",{display:"none",flexDirection:"column",background:"#323238",borderRadius:"5px",position:"relative",padding:"0 5px 5px",overflow:"hidden","+ div .resize-handle":{display:"none",background:"url(/assets/icons/player/resize.svg) no-repeat center #323238",width:"34px !important",height:"34px !important",right:"1px !important",bottom:"1px !important",borderRadius:"5px"},variants:{isVisible:{true:{display:"flex","+ div .resize-handle":{display:"block"}}}}}),V=(0,j.zo)("button",{position:"absolute",top:60,right:16,background:"url(/assets/icons/player/close.svg) no-repeat center #323238",width:34,height:34,borderRadius:9999,border:0,zIndex:2,fontSize:0}),B=(0,j.zo)("button",{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8,height:44,padding:"0 8px",background:"none",border:0,color:"#E1E1E6",fontWeight:"bold",textTransform:"uppercase",fontSize:13,cursor:"move",i:{width:18,height:18,background:"url(/assets/icons/player/drag.svg) no-repeat center"}}),Q=(0,j.zo)("div",{width:"100%",height:0,paddingBottom:"56.25%",position:"relative",video:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),G={width:350,height:240},W=e=>[{src:e.hls,type:"application/x-mpegURL"}],F=(0,l.forwardRef)((e,n)=>{var i,t;let{targetVideoRef:r,targetPlayerRef:s,videoId:a,visible:d,onClose:c}=e,u=(0,l.useRef)(null),[p,h]=(0,l.useState)({x:0,y:0}),[g,x]=(0,l.useState)(G),m=(0,M.a)("(max-width: 768px)"),v=(i="panda",t=a,"mux"===i?{hls:"https://stream.mux.com/".concat(t,".m3u8"),poster:"https://image.mux.com/".concat(t,"/thumbnail.png?width=1280&height=720&fit_mode=pad")}:"panda"===i?{hls:"https://b-vz-762f4670-e04.tv.pandavideo.com.br/".concat(t,"/playlist.m3u8"),poster:"https://vz-762f4670-e04.b-cdn.net/".concat(t,"/thumbnail.jpg")}:function(e){let n="https://alnilam.rocketseat.dev";return{hls:"".concat(n,"/outputs/").concat(e,"/master.m3u8"),poster:"".concat(n,"/outputs/").concat(e,"/poster-25_0.jpg"),thumbnailTrack:{url:"".concat(n,"/outputs/").concat(e,"/preview/thumb-track.vtt")}}}(t)),f=(0,l.useCallback)(()=>{let e=r.current;if(!e)return;let n=e.getBoundingClientRect();if(m){let e={width:Math.min(G.width,n.width),height:Math.min(G.height,n.height+44)};x(e),h({x:30+n.width/2-e.width/2,y:n.top-e.height-20})}else x(G),h({x:n.right+28,y:n.bottom-G.height})},[m,r]);return(0,l.useEffect)(()=>{let e=u.current,i=null==r?void 0:r.current,t=null==s?void 0:s.current;if(e&&i&&a&&d){if(n.current){let e=n.current;e.currentVideoId!==a&&(e.src(W(v)),e.currentTime(t.getCurrentTime()),e.currentVideoId=a)}else{let i=(0,O.Z)(e,{autoplay:!t.isPaused(),controls:!1,muted:!0,responsive:!0,fluid:!0,sources:W(v)});n.current=i,i.currentTime(t.getCurrentTime()),i.currentVideoId=a}}},[n,r,v,a,d,s]),(0,l.useEffect)(()=>{d&&f()},[d,f]),(0,l.useEffect)(()=>{let e=U()(f,500);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[f]),(0,N.createPortal)((0,o.jsx)(H.s,{position:p,size:g,onDragStop:(e,n)=>h({x:n.x,y:n.y}),onResizeStop:(e,n,i,t,r)=>{h(r),x({width:i.offsetWidth,height:i.offsetHeight})},default:{width:350,height:240,x:0,y:0},lockAspectRatio:16/9,lockAspectRatioExtraHeight:44,maxWidth:600,minWidth:150,bounds:"window",dragHandleClassName:"drag-handle",resizeHandleClasses:{bottomRight:"resize-handle"},enableResizing:{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!0,bottomLeft:!1,topLeft:!1},style:{zIndex:10,pointerEvents:d?"all":"none"},children:(0,o.jsxs)(Z,{isVisible:d&&!!a,children:[(0,o.jsx)(V,{onClick:c,children:"Close"}),(0,o.jsxs)(B,{className:"drag-handle",children:[(0,o.jsx)("i",{}),"Mover"]}),(0,o.jsx)(Q,{children:(0,o.jsx)("video",{ref:u})})]})}),document.getElementById("draggable"))});F.displayName="SignalLanguagePopup";let X=(0,j.zo)("div",{position:"relative",overflow:"hidden",width:"100%",paddingTop:"56.25%",iframe:{border:0,position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%"},".signal-language-btn":{background:"url(/assets/icons/player/signal-language.svg) no-repeat center",backgroundSize:"16px auto"},".audio-description-btn":{background:"url(/assets/icons/player/audio-description.svg) no-repeat center",backgroundSize:"24px auto"},".vjs-icon-cog:before":{fontSize:"15px"}}),J={playerSpeed:"@Skylab:defaultPlayerSpeed",playerVolume:"@Skylab:defaultPlayerVolume"},Y=[.5,.75,1,1.25,1.5,2],K=(0,l.forwardRef)((e,n)=>{let{autoplay:i,platform:t,journey:r,product:s,videoId:a,lessonId:d,signalLanguageVideoId:c,audioDescriptionVideoId:p,onReady:h,onPlay:g,onPause:x,onTimeUpdate:m,onEnd:v,startTime:f=0,watchTimeIntervalSeconds:b=20,watchTimeInScecondsToTriggerStreak:y=60,onWatchTime:j,onTriggerStreak:w=()=>{},hasCaption:$=!1,isAudioDescriptionActive:k,isSignalLanguageActive:C,onToggleAudioDescription:z,onToggleSignalLanguage:I,isFree:S=!1}=e,T=k?p:a,E=(0,l.useRef)(0),R=(0,l.useRef)(null),q=(0,l.useRef)(null),_=(0,l.useRef)(null),D=(0,l.useRef)(null),P=(0,l.useRef)(0);(0,l.useImperativeHandle)(n,()=>({getPlayerInstance:()=>_.current}),[]);let A=(0,l.useCallback)(e=>{let n=localStorage.getItem(J.playerSpeed),i=Y.includes(Number(n))?Number(n):1;return e.setSpeed(i),i},[]),L=(0,l.useCallback)(e=>{let n=localStorage.getItem(J.playerVolume);return e.setVolume(Number(n)),n},[]),U=(0,l.useCallback)(u()(w,1e3,{trailing:!1}),[w]),N=(0,l.useCallback)(()=>{D.current&&clearInterval(D.current)},[]);(0,l.useEffect)(()=>{window.onPandaPlayerApiLoad=()=>{if(!PandaPlayer)return;let e=new PandaPlayer("panda-player",{onReady:()=>{_.current=e,e.onEvent(n=>{let i=q.current,t=e.getCurrentTime();if("panda_ready"===n.message&&(h&&h(e.getDuration()),A(e),L(e)),"panda_play"===n.message&&(N(),g&&g(),i&&(i.play(),i.currentTime(t))),"panda_pause"===n.message&&(N(),x&&x(),i&&(i.pause(),i.currentTime(t))),"panda_ended"===n.message&&(v&&v(),C&&I()),"panda_speed_update"===n.message){if(localStorage.getItem(J.playerSpeed),localStorage.setItem(J.playerSpeed,n.speed),e.paused)return;N()}if("panda_timeupdate"===n.message){E.current&&E.current;let e=P.current===y;e&&U(),E.current=n.currentTime,m&&m({time:n.currentTime})}if("panda_allData"===n.message){var r,o;let e=localStorage.getItem(J.playerVolume);(null==n?void 0:null===(r=n.playerData)||void 0===r?void 0:r.volume)!==Number(e)&&localStorage.setItem(J.playerVolume,String(null==n?void 0:null===(o=n.playerData)||void 0===o?void 0:o.volume))}})}})},window.onPandaPlayerApiLoad()},[N,A,U,v,x,g,h,m,f,y,C,L,I]);let H=(0,l.useCallback)(()=>{N(),P.current=0},[N]);return(0,l.useEffect)(()=>{T&&H()},[H,T]),(0,o.jsxs)(X,{children:[(0,o.jsx)("iframe",{id:"panda-player",src:"https://player-vz-762f4670-e04.tv.pandavideo.com.br/embed/?v=".concat(T,"&autoplay=").concat(i,"&muted=false&smartAutoplay=true&defaultSpeed=1"),allow:"accelerometer;gyroscope;autoplay;encrypted-media",allowFullScreen:!0,width:"720",height:"420",title:"Panda player",ref:R}),(0,o.jsx)(F,{ref:q,targetVideoRef:R,targetPlayerRef:_,videoId:c,visible:C,onClose:I})]})});K.displayName="PandaVideoPlayer";var ee=i(76158);let en=()=>(0,o.jsx)("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M18.4997 0.5H1.49967C0.583008 0.5 -0.166992 1.25 -0.166992 2.16667V11.8333C-0.166992 12.75 0.583008 13.5 1.49967 13.5H18.4997C19.4163 13.5 20.1663 12.75 20.1663 11.8333V2.16667C20.1663 1.25 19.4163 0.5 18.4997 0.5ZM17.9997 11.5H1.99968V2.5H17.9997V11.5Z",fill:"#4863F7"})});var ei=i(73235),et=i(63964);function er(){let e=(0,ei._)(["\n    display: flex;\n    align-items: center;\n    background: none;\n    border: 0;\n    font-size: ",";\n    color: #e1e1e6;\n    position: relative;\n    cursor: ",";\n\n    aside {\n      left: calc(50% + 36px);\n    }\n\n    :hover {\n      aside {\n        opacity: 1;\n      }\n    }\n\n    span {\n      font-size: ",";\n      color: #e1e1e6;\n      margin: ",";\n      opacity: ",";\n      transition: opacity 0.2s;\n    }\n\n    input[type='checkbox'] {\n      display: none;\n    }\n\n    div {\n      position: relative;\n      width: 72px;\n      height: 24px;\n      padding: 4px;\n      background: #121214;\n      border-radius: 100px;\n      transition: background 0.2s;\n      opacity: ",";\n\n      &:after {\n        content: '';\n        position: absolute;\n        width: 50%;\n        height: calc(100% - 8px);\n        background: ",";\n        border-radius: 100px;\n        left: 4px;\n        transition: all 0.2s;\n      }\n    }\n\n    input[type='checkbox']:checked + div {\n      background: #4863f7;\n\n      &:after {\n        left: calc(50% - 4px);\n        background: #e1e1e6;\n      }\n    }\n\n    @media (max-width: 768px) {\n      span {\n        font-size: 11px;\n      }\n\n      div {\n        width: 48px;\n      }\n    }\n\n    @media (max-width: 420px) {\n      flex-direction: column;\n\n      span {\n        margin: 0 0 4px;\n      }\n\n      div {\n        height: 20px;\n      }\n    }\n  "]);return er=function(){return e},e}function eo(){let e=(0,ei._)(["\n  ","\n"]);return eo=function(){return e},e}let el=et.ZP.label(eo(),e=>{let{reverseLabel:n,playerStyle:i,disabled:t}=e;return(0,et.iv)(er(),i?"12px":"16px",t?"not-allowed":"pointer",i?"12px":"16px",n?"0 12px 0 0":"0 0 0 12px",t?.7:1,t?.7:1,i?"#4863F7":"#fff")});function es(e){let{label:n,name:i,onToggle:t,isActive:r,reverseLabel:l,playerStyle:s,disabled:a,className:d=""}=e;return(0,o.jsxs)(el,{htmlFor:i,reverseLabel:l,playerStyle:s,disabled:a,className:d,children:[l&&(0,o.jsx)("span",{children:n}),(0,o.jsx)("input",{name:i,id:i,type:"checkbox",checked:r,onChange:t,disabled:a}),(0,o.jsx)("div",{}),!l&&(0,o.jsx)("span",{children:n})]})}let ea=(0,j.zo)("div",{width:"100%",flex:1}),ed=(0,j.zo)("div",{display:"flex",alignItems:"center",justifyContent:"space-between",background:"$shape-primary",borderRadius:"0px 0px $sm $sm",padding:"$4"}),ec={baseURL:"https://alpaca.rocketseat.com.br/eudora"},eu=async e=>{try{await ee.h.post("videos/watch-time",e,ec)}catch(e){console.error("Unable to register watchTime",e)}},ep=(0,l.forwardRef)((e,n)=>{let{product:i,journey:t,platform:r,videoId:a,lessonId:d,signalLanguageVideoId:c,audioDescriptionVideoId:u,autoplay:p=!1,theater:h=!1,hasCaption:g=!1,startTime:x=0,onToggleAutoplay:m,onToggleTheater:v,onTimeUpdate:f,onEnd:b,onPlay:y}=e,[j,w]=(0,l.useState)(!1),[$,k]=(0,l.useState)(!1),{triggerStreak:C}=(0,_.Xv)(),z=(0,l.useCallback)(()=>{w(!j)},[j]),I=(0,l.useCallback)(()=>{k(!$)},[$]),S=(0,l.useCallback)(()=>{C({type:"lesson"})},[C]);return(0,o.jsxs)(ea,{children:[(0,o.jsx)(K,{product:i,journey:t,platform:r,videoId:a,lessonId:d,signalLanguageVideoId:c,audioDescriptionVideoId:u,onPlay:y,autoplay:p,startTime:x,hasCaption:g,onWatchTime:eu,onToggleSignalLanguage:z,onTriggerStreak:S,onToggleAudioDescription:I,isSignalLanguageActive:j,isAudioDescriptionActive:$,...f&&{onTimeUpdate:f},...b&&{onEnd:b},ref:n}),(0,o.jsxs)(ed,{children:[(0,o.jsxs)(s.xu,{css:{display:"flex",gap:"$2"},children:[c&&(0,o.jsx)(s.hU,{icon:(0,o.jsx)(D.aIp,{size:18}),variant:j?"primary":"secondary",onClick:z,css:{...j&&{backgroundColor:"#4863f7 !important"}},"data-tip":"".concat(j?"Desligar":"Ligar"," Linguagem de sinais")}),u&&(0,o.jsx)(s.hU,{icon:(0,o.jsx)(P.J7Q,{size:18}),variant:$?"primary":"secondary",onClick:I,css:{...$&&{backgroundColor:"#4863f7 !important"}},"data-tip":"".concat($?"Desligar":"Ligar"," Audio Descri\xe7\xe3o")})]}),(0,o.jsxs)(s.xu,{css:{display:"flex",gap:"$4"},children:[(0,o.jsx)(es,{label:"Autoplay",name:"autoplay",isActive:p,onToggle:m,reverseLabel:!0,playerStyle:!0}),(0,o.jsx)(s.xu,{css:{"@mobile":{display:"none "}},children:(0,o.jsx)(s.hU,{icon:(0,o.jsx)(en,{}),variant:"secondary",onClick:v,css:{...h&&{background:"$shape-tertiary !important"}}})})]})]}),(0,o.jsx)(A.Z,{})]})});ep.displayName="VideoWrapper";var eh=i(52955),eg=i(38194),ex=i(60597),em=i(24953),ev=i(30980),ef=i(86769),eb=i(70036),ey=i(3415),ej=i(30927),ew=i(10405),e$=i(5434),ek=i(63878);function eC(){let e=(0,ei._)([""]);return eC=function(){return e},e}function ez(){let e=(0,ei._)(["\n  margin: 30px;\n\n  @media (max-width: 768px) {\n    margin: 25px 30px;\n  }\n"]);return ez=function(){return e},e}function eI(){let e=(0,ei._)(["\n        color: #04d361;\n\n        &:hover {\n          color: #04d361;\n        }\n      "]);return eI=function(){return e},e}function eS(){let e=(0,ei._)(["\n        color: #e1e1e6;\n        font-weight: bold;\n\n        &:hover {\n          color: #e1e1e6;\n        }\n      "]);return eS=function(){return e},e}function eT(){let e=(0,ei._)(["\n        background: #e1e1e6;\n\n        &:before {\n          background: #202024;\n          border: 2px solid #04d361;\n          border-radius: 50%;\n        }\n\n        &:after {\n          background: #e1e1e6;\n        }\n      "]);return eT=function(){return e},e}function eE(){let e=(0,ei._)(["\n        background: #04d361;\n\n        &:after {\n          background: #04d361;\n        }\n      "]);return eE=function(){return e},e}function eR(){let e=(0,ei._)(["\n      &::before {\n        background: #04d361;\n      }\n    "]);return eR=function(){return e},e}function eq(){let e=(0,ei._)(["\n      &::after {\n        background: #04d361;\n      }\n    "]);return eq=function(){return e},e}function e_(){let e=(0,ei._)(["\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  z-index: 5;\n\n  & + li {\n    margin-top: 20px;\n  }\n\n  a {\n    color: #a8a8b3;\n\n    &:hover {\n      color: #e1e1e6;\n    }\n\n    ","\n\n    ","\n  }\n\n  button {\n    position: relative;\n    cursor: pointer;\n    width: 10px;\n    height: 10px;\n    border: 0;\n    background: #3c3c42;\n    border-radius: 50%;\n    margin-right: 30px;\n    flex-shrink: 0;\n    z-index: 2;\n    transition: box-shadow 0.2s;\n\n    &:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 20px;\n      height: 20px;\n      transform: translate(-50%, -50%);\n    }\n\n    &:after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 2;\n      border-radius: 50%;\n    }\n\n    &:hover {\n      box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.05);\n    }\n\n    &[disabled] {\n      pointer-events: none;\n    }\n\n    ","\n\n    ","\n  }\n\n  &::before,\n  &::after {\n    content: '';\n    left: 4px;\n    width: 2px;\n    top: 50%;\n    height: calc(100% + 5px);\n    background: #3c3c42;\n    position: absolute;\n  }\n\n  &::before {\n    top: auto;\n    bottom: 50%;\n  }\n\n  &:first-child:before {\n    display: none;\n  }\n\n  &:last-child:after {\n    display: none;\n  }\n\n  ",";\n\n  ",";\n"]);return e_=function(){return e},e}function eD(){let e=(0,ei._)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n\n  overflow: hidden;\n\n  p {\n    color: #737380;\n  }\n\n  a {\n    width: 100%;\n    display: flex;\n    overflow: hidden;\n  }\n\n  a span {\n    width: 100%;\n    display: block;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    margin-right: 8px;\n  }\n\n  a svg {\n    margin-right: 8px;\n  }\n"]);return eD=function(){return e},e}let eP=et.ZP.div(eC()),eA=et.ZP.ul(ez()),eL=et.ZP.li(e_(),e=>{let{watched:n}=e;return n&&(0,et.iv)(eI())},e=>{let{active:n}=e;return n&&(0,et.iv)(eS())},e=>{let{active:n}=e;return n&&(0,et.iv)(eT())},e=>{let{watched:n}=e;return n&&(0,et.iv)(eE())},e=>{let{watched:n,prevWatched:i}=e;return n&&i&&(0,et.iv)(eR())},e=>{let{watched:n,nextWatched:i}=e;return n&&i&&(0,et.iv)(eq())}),eU=et.ZP.div(eD()),eN={QUIZ:P.Qoj,CHALLENGE:P.Qoj,VIDEO:P.l$7,MATERIAL:P.xXr};var eH=function(e){let{lessons:n,lessonsRefs:i,current:t,getLessonRoute:r,onToggleComplete:l,style:s}=e,a=(0,g.useRouter)();return(0,o.jsx)(eP,{style:s,children:(0,o.jsx)(eA,{children:n.map((e,n,s)=>{var d,c,u,p,h;let g=eN[e.type];return(0,o.jsxs)(eL,{watched:null==e?void 0:null===(d=e.progress)||void 0===d?void 0:d.completed,prevWatched:null===(u=s[n-1])||void 0===u?void 0:null===(c=u.progress)||void 0===c?void 0:c.completed,nextWatched:null===(h=s[n+1])||void 0===h?void 0:null===(p=h.progress)||void 0===p?void 0:p.completed,active:e.id===(null==t?void 0:t.id),ref:n=>{i.current&&(i.current[e.id]=n)},children:[(0,o.jsx)("button",{type:"button",onClick:()=>l(e),disabled:["QUIZ","CHALLENGE"].includes(null==e?void 0:e.type)}),(0,o.jsxs)(eU,{children:[(0,o.jsxs)("a",{style:{cursor:"pointer"},onClick:()=>{if((null==e?void 0:e.type)==="MATERIAL"){var n;l(e,!0),window.open(null==e?void 0:null===(n=e.material)||void 0===n?void 0:n.link,"_blank","noopener, noreferrer");return}a.push(r(e),void 0,{shallow:!0})},children:[g&&(0,o.jsx)(g,{size:16}),(0,o.jsx)("span",{children:e.title})]}),!!e.duration&&(0,o.jsx)("p",{children:e0(e.duration,!0)})]})]},e.id)})})})};function eO(){let e=(0,ei._)(["\n      display: none;\n    "]);return eO=function(){return e},e}function eM(){let e=(0,ei._)(["\n  position: relative;\n  width: 350px;\n  background: #19191c;\n  border-radius: 5px;\n  overflow: hidden;\n\n  @media (max-width: 768px) {\n    display: initial !important;\n    width: 100%;\n  }\n\n  ","\n"]);return eM=function(){return e},e}function eZ(){let e=(0,ei._)(["\n  display: flex;\n  align-items: center;\n  background: #202024;\n  padding: 16px;\n  cursor: pointer;\n\n  > svg {\n    flex-shrink: 0;\n    margin-left: auto;\n  }\n\n  + "," {\n    height: 0;\n    overflow: hidden;\n    transition: height 0.3s ease;\n\n    + div {\n      margin-top: 2px;\n    }\n  }\n\n  ","\n"]);return eZ=function(){return e},e}function eV(){let e=(0,ei._)(["\n  position: relative;\n  width: 40px;\n  height: 40px;\n  background: #000;\n  border-radius: 50%;\n  flex-shrink: 0;\n\n  span {\n    position: absolute;\n    width: 40px;\n    height: 40px;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 2;\n    font-size: 14px;\n    font-weight: bold;\n    color: #e1e1e6;\n  }\n"]);return eV=function(){return e},e}function eB(){let e=(0,ei._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  circle {\n    stroke-width: 2.5;\n    stroke-dasharray: ",";\n    stroke-dashoffset: ",";\n    stroke: #04d361;\n    transform: rotate(-90deg);\n    transform-origin: 50% 50%;\n    transition:\n      stroke 0.3s,\n      stroke-dashoffset 0.45s ease;\n  }\n\n  + svg {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    z-index: 2;\n    transform: translate(-50%, -150%);\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.4s ease;\n  }\n\n  ","\n"]);return eB=function(){return e},e}function eQ(){let e=(0,ei._)(["\n  margin: 0 20px;\n\n  span {\n    display: block;\n    font-size: 16px;\n    font-weight: bold;\n    color: #e1e1e6;\n  }\n\n  @media (max-width: 1130px) {\n    span {\n      font-size: 14px;\n    }\n  }\n"]);return eQ=function(){return e},e}function eG(){let e=(0,ei._)(["\n  display: flex;\n  align-items: center;\n\n  span {\n    font-size: 12px;\n    color: text;\n    margin-top: 6px;\n  }\n\n  div {\n    width: 4px;\n    height: 4px;\n    border-radius: 4;\n    background-color: #3c3c42;\n    margin: 6px 6px 0 6px;\n  }\n"]);return eG=function(){return e},e}let eW=et.ZP.aside(eM(),e=>{let{isHidden:n}=e;return n&&(0,et.iv)(eO())}),eF=et.ZP.div(eZ(),eP,e=>{let{open:n}=e;return n&&"\n    background: #29292e;\n\n    > svg {\n      transform: rotate(180deg);\n    }\n  "}),eX=et.ZP.div(eV()),eJ=et.ZP.svg.attrs({viewBox:"0 0 38 38",circumference:36*Math.PI})(eB(),e=>{let{circumference:n}=e;return"".concat(n," ").concat(n)},e=>{let{circumference:n,progress:i}=e;return n-i/100*n},e=>{let{progress:n}=e;return 100===n&&"\n      + svg {\n        opacity: 1;\n        visibility: visible;\n        transform: translate(-50%, -50%);\n      }\n\n      ~ span {\n        display: none;\n      }\n  "}),eY=et.ZP.div(eQ()),eK=et.ZP.div(eG()),e0=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!Number.isNaN(Number(e))&&(0,a.default)((0,ej.Z)((0,ew.default)(new Date),Number(e)),"HH:mm:ss");return n&&i?i.replace(/^00:/,""):i},e1=e=>{let{isHidden:n,onToggleComplete:i}=e,{lessonGroups:t,currentLesson:r,currentGroup:a,slug:d}=(0,q.T)(),[c,u]=(0,l.useState)(null),p=(0,l.useRef)(),h=(0,l.useRef)({}),g=(0,l.useRef)({}),x=(0,l.useRef)(null),m=e=>{let n=null==p?void 0:p.current,i=null==h?void 0:h.current[e];n&&i&&n.scrollTo({top:i.offsetTop,behavior:"smooth"})},v=e=>{let n=null==p?void 0:p.current,i=null==g?void 0:g.current[e];n&&i&&n.scrollTo({top:i.offsetTop-16,behavior:"smooth"})},f=e=>{let n=c===e?null:e;x.current=n,u(n)},b=e=>n=>"/discover/course/".concat(d,"/").concat(e.slug,"/").concat(n.slug),y=e=>{let{lessons:n}=e,i=n.filter(e=>{var n;return null===(n=e.progress)||void 0===n?void 0:n.completed}).length;return i/n.length*100},j=(e,n)=>{var i,t;let r=null==h?void 0:null===(t=h.current[e])||void 0===t?void 0:null===(i=t.nextSibling)||void 0===i?void 0:i.scrollHeight;switch(n){case"entering":case"exiting":return{height:r};case"entered":return{height:"auto",overflow:"initial"};default:return{height:0}}};(0,l.useEffect)(()=>{null===x.current?v(null==r?void 0:r.id):setTimeout(()=>{m(x.current),x.current=null},300)},[null==r?void 0:r.id,c,n]),(0,l.useEffect)(()=>{x.current=a.lessons[0].id===r.id?a.id:null,u(a.id)},[a,n,null==r?void 0:r.id]);let w=(0,l.useCallback)(e=>{let n=e.map(e=>e.duration).filter(e=>!!e);if(!n.length)return;let i=n.reduce((e,n)=>e+n);return e0(i,!0)},[]);return(0,o.jsx)(eW,{isHidden:n,children:(0,o.jsxs)(s.xu,{css:{position:"absolute",display:"flex",flexDirection:"column",width:"100%",height:"100%",top:0,left:0,"@mobile":{position:"relative",height:"19rem"}},children:[(0,o.jsx)(s.xu,{css:{padding:"$4 $6",background:"linear-gradient(90deg, $grey-700 0%, $grey-800 100%)"},children:(0,o.jsx)(s.X6,{size:"sm",children:"Conte\xfados"})}),(0,o.jsx)(s.xu,{css:{flex:1,overflowY:"auto"},ref:p,children:t.map((e,n)=>(0,o.jsxs)(l.Fragment,{children:[(0,o.jsxs)(eF,{onClick:()=>f(e.id),open:c===e.id,ref:n=>{h.current[e.id]=n},children:[(0,o.jsxs)(eX,{children:[(0,o.jsx)(eJ,{viewBox:"0 0 38 38",circumference:36*Math.PI,progress:y(e),children:(0,o.jsx)("circle",{r:18,cx:19,cy:19})}),(0,o.jsx)(D.l_A,{color:"#04D361",size:11}),(0,o.jsx)("span",{children:n+1})]}),(0,o.jsxs)(eY,{children:[(0,o.jsx)("span",{children:e.title}),(0,o.jsxs)(eK,{children:[(0,o.jsx)("span",{children:"".concat(e.lessons.length," aula").concat(1===e.lessons.length?"":"s")}),!!w(e.lessons)&&(0,o.jsx)("div",{}),(0,o.jsx)("span",{children:w(e.lessons)||""})]})]}),(0,o.jsx)(e$.Yc6,{color:"#A8A8B3",size:24})]}),(0,o.jsx)(ek.ZP,{in:c===e.id,timeout:{enter:300,exit:0},children:n=>(0,o.jsx)(eH,{lessons:e.lessons,lessonsRefs:g,current:r,getLessonRoute:b(e),onToggleComplete:i,style:j(e.id,n)})})]},e.id))})]})})},e2=(0,j.zo)("div",{display:"grid",position:"relative",gridTemplateRows:"1fr 4.5rem",gridTemplateAreas:'"sidebar" "certificate"',top:0,left:0});(0,j.zo)("div",{padding:"$4 $6",height:"fit-content",background:"linear-gradient(90deg, $grey-700 0%, $grey-800 100%)"});let e6=(0,j.zo)("div",{gridArea:"certificate",display:"flex",alignItems:"center",justifyContent:"space-between",height:"100%",width:"100%",padding:"$4",color:"$grey-400",background:"$grey-700",borderRadius:"0px 0px $sm $sm",borderTop:"1px solid $grey-600",p:{margin:"auto 0",color:"$grey-400",fontWeight:"$bold",width:"100%",display:"flex",marginLeft:"$4",justifySelf:"flex-start"},variants:{isHidden:{true:{display:"none"}},isCompleted:{true:{cursor:"pointer",p:{color:"$grey-100"}}}},"@mobile":{borderRadius:"0px"}}),e4=(0,j.zo)("div",{width:"192px",textAlign:"center",span:{padding:"0",fontSize:"$sm",color:"$grey-200",fontWeight:"$regular"}}),e3=()=>{let[e,n]=(0,l.useState)(!1),{theater:i,handleToggleComplete:t,isCompleted:r}=(0,ey.C)(),a=(0,g.useRouter)(),{certificate:d}=(0,ef.m)(),c=(0,l.useCallback)(()=>{if(r){if(null==d?void 0:d.id){a.push("/certification/discover");return}em.H.track("Certificate emission"),n(!0)}},[null==d?void 0:d.id,r,a]);return(0,o.jsxs)(e2,{children:[(0,o.jsx)(e1,{css:{gridArea:"sidebar"},isHidden:i,onToggleComplete:t}),(0,o.jsxs)(e6,{isHidden:i,isCompleted:!!r,onClick:c,children:[(0,o.jsx)(P.Bhk,{size:"32",color:r?"#996DFF":"#505059"}),(0,o.jsx)(s.xv,{children:r?"Ver certificado":"Emitir certificado"}),(0,o.jsxs)(s.xu,{"data-tip":!0,"data-for":"certificate",children:[r?(0,o.jsx)(P.nQU,{size:"16",color:"#C4C4CC"}):(0,o.jsx)(P.gMo,{size:"24"}),!r&&(0,o.jsx)(A.Z,{id:"certificate",backgroundColor:"#09090A",place:"right",effect:"solid",offset:{right:2},children:(0,o.jsx)(e4,{children:(0,o.jsx)(s.xv,{as:"span",children:"Complete todas as etapas para gerar seu certificado"})})})]}),(0,o.jsx)(eb.J,{visible:e,trailTitle:"Discover",trailImage:I.yI,onCancel:()=>n(!1)})]})]})},e5=(0,j.zo)("div",{display:"flex",flexDirection:"column",width:"100%",marginBottom:"$6",background:"$grey-900",minHeight:"calc(100vh - 4.5rem)","> div:last-child":{height:"100%",aside:{borderRadius:"0","> div":{height:"unset"}}},"@media (min-width: 769px)":{display:"none"}}),e8=(0,j.zo)("div",{display:"flex",flexDirection:"column",gap:"$4",padding:"$6","@media (max-width: 320px)":{padding:"$4"}}),e9=e=>{let{communityHref:n}=e;return(0,o.jsxs)(e5,{children:[(0,o.jsxs)(e8,{children:[(0,o.jsx)(s.zx,{variant:"secondary",css:{a:{color:"$grey-100",textTransform:"uppercase"}},children:(0,o.jsx)("a",{href:I.iy,target:"_blank",rel:"noopener noreferrer",children:"Materiais para as aulas"})}),(0,o.jsx)(s.zx,{as:"a",leftIcon:(0,o.jsx)(eg.iW,{arrowColor:"#ffffff"}),size:"md",variant:"primary",href:n,onClick:()=>em.H.track("Community"),target:"_blank",rel:"noopener noreferrer",css:{textTransform:"uppercase",background:"$discover-mid",span:{span:{marginLeft:"$2"}},"&:hover":{background:"$discover-dark !important"}},children:"Comunidade"})]}),(0,o.jsx)(e3,{})]})},e7=(0,j.zo)("div",{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",width:"100%",height:"100%",background:"$rgba(18, 18, 20, 0.6)",borderBottom:"1px solid $grey-600"}),ne=(0,j.zo)("div",{display:"flex",position:"relative",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"0 $6",margin:"0 auto",height:"4.5rem",maxWidth:"90rem"}),nn=(0,j.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%","> a":{marginRight:"$4",alignItems:"center"},svg:{display:"flex",alignSelf:"center"}}),ni=(0,j.zo)("a",{svg:{width:"8rem",height:"2rem"}}),nt=(0,j.zo)("div",{display:"flex",alignItems:"center"}),nr=(0,j.zo)("div",{display:"flex",gap:"$6"}),no=()=>{let{isAuthenticated:e,user:n}=(0,z.aC)(),i=(0,M.a)("(max-width: 768px)"),t="https://discord-service.rocketseat.dev/signin?q=".concat(null==n?void 0:n.id),[r,a]=(0,l.useState)(!1);return(0,o.jsxs)(e7,{children:[e&&(0,o.jsxs)(ne,{children:[(0,o.jsxs)(nn,{children:[(0,o.jsx)(h(),{href:"/discover",prefetch:!1,children:(0,o.jsx)(P.dUf,{color:"#c4c4cc",size:24})}),(0,o.jsx)(h(),{prefetch:!1,href:"/discover",passHref:!0,legacyBehavior:!0,children:(0,o.jsx)(ni,{children:(0,o.jsx)(ex.Vq,{})})})]}),(0,o.jsxs)(nt,{children:[i?null:(0,o.jsxs)(nr,{children:[(0,o.jsx)(s.Qj,{href:I.iy,target:"_blank",rel:"noopener noreferrer",rightIcon:(0,o.jsx)(P.xXr,{size:16}),css:{color:"$discover-light"},children:"Materiais complementares"}),(0,o.jsx)(s.zx,{as:"a",leftIcon:(0,o.jsx)(eg.iW,{arrowColor:"#ffffff"}),size:"md",variant:"primary",href:t,onClick:()=>em.H.track("Community"),target:"_blank",rel:"noopener noreferrer",css:{textTransform:"uppercase",background:"$discover-mid",span:{span:{marginLeft:"$2"}},"&:hover":{background:"$discover-dark !important"}},children:"Comunidade"})]}),(0,o.jsx)("div",{className:"ml-2",children:(0,o.jsx)(ev.d,{})}),(0,o.jsx)(s.hU,{onClick:()=>{a(!r)},variant:"tertiary",icon:r?(0,o.jsx)(P.IOM,{size:"32",color:"#E1E1E6"}):(0,o.jsx)(P.lIk,{size:"32",color:"#E1E1E6"}),css:{"@media (min-width: 769px)":{display:"none"}}})]})]}),r&&(0,o.jsx)(e9,{communityHref:t})]})},nl=(0,j.zo)("div",{display:"flex",flexDirection:"column",width:"100%",height:"100%"}),ns=e=>{let{children:n}=e;return(0,o.jsx)(nl,{children:(0,o.jsxs)(s.xu,{css:{"*":{fontFamily:"Plus Jakarta Sans, sans-serif !important"}},children:[(0,o.jsx)(no,{}),(0,o.jsx)("div",{children:n})]})})},na=(0,j.zo)("div",{header:{paddingRight:"$3"}}),nd=(0,j.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"$sm",textarea:{resize:"none",height:"8.875rem",borderRadius:0,borderColor:"transparent",fontSize:"$md"}}),Comment=e=>{let{onCancel:n,onSubmit:i}=e,[t,r]=(0,l.useState)(""),a=(0,l.useCallback)(()=>{n()},[n]),d=(0,l.useCallback)(()=>{i(t)},[t,i]);return(0,o.jsxs)(na,{children:[(0,o.jsxs)("header",{children:[(0,o.jsx)(s.xv,{size:"md",children:"Gostaria de fazer um coment\xe1rio?"}),(0,o.jsx)(s.hU,{size:"sm",variant:"tertiary",icon:(0,o.jsx)(P.IOM,{size:"20"}),onClick:a})]}),(0,o.jsx)(nd,{children:(0,o.jsx)("textarea",{maxLength:450,value:t,placeholder:"Digite aqui caso queira complementar sua avalia\xe7\xe3o",onChange:e=>r(e.target.value)})}),!!t&&(0,o.jsx)(s.zx,{size:"lg",variant:"primary",full:!0,css:{textTransform:"uppercase",borderRadius:"0 0 $sm $sm"},onClick:d,children:"Enviar coment\xe1rio"})]})},nc=(0,j.zo)("div",{header:{justifyContent:"center"}}),nu=(0,j.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"$sm",height:"6rem"}),np=(0,j.zo)("button",{backgroundColor:"transparent",border:"none",cursor:"pointer",margin:"0 0.8rem",transition:"0.3s ease-out","svg:hover":{fill:"$rocketseat-mid"},"@media (max-width: 397px)":{margin:"0 0.7rem"}}),nh=[1,2,3,4,5],ng=e=>{let{onSubmit:n}=e,[i,t]=(0,l.useState)(null),r=(0,l.useCallback)(()=>{n(i)},[n,i]);return(0,o.jsxs)(nc,{children:[(0,o.jsx)("header",{children:(0,o.jsx)(s.xv,{size:"md",children:"O que voc\xea achou dessa aula?"})}),(0,o.jsx)(nu,{children:nh.map((e,n)=>{let r=nh.findIndex(e=>e===i);return(0,o.jsx)(np,{onClick:()=>t(e),children:n<=r?(0,o.jsx)(D.QJe,{size:32,color:"#8257E5"}):(0,o.jsx)(D.jJN,{size:32,color:"#C4C4CC"})},e)})}),i&&(0,o.jsx)(s.zx,{size:"lg",variant:"primary",full:!0,css:{textTransform:"uppercase",borderRadius:"0 0 $sm $sm"},onClick:r,children:"Enviar feedback"})]})};ng.title="Como voc\xea avalia esse conte\xfado?";var nx=i(86893),nm=i(984);let nv=(0,j.F4)({from:{transform:"translateZ(50px)",opacity:"0"},to:{transform:"translateZ(0)",opacity:"1"}}),nf=(0,j.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"1.125rem",borderRadius:"$sm",svg:{color:"".concat(nm.r.colors.experts.green),paddingRight:"1.25rem",width:"2.625rem",height:"2.625rem"},background:"linear-gradient(to right, #0F3924 0%, #202024 80%)",animation:"".concat(nv," 0.5s ease-in-out")}),nb=e=>{let{title:n}=e;return(0,o.jsxs)(nf,{children:[(0,o.jsx)(nx.fmn,{}),n]})},ny=(0,j.F4)({from:{transform:"translateZ(50px)",opacity:"0"},to:{transform:"translateZ(0)",opacity:"1"}}),nj=(0,j.zo)("div",{width:"350px",borderRadius:"$sm",maxHeight:"9.25rem",border:"1px solid $grey-600",animation:"".concat(ny," 0.5s ease-in-out"),header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"$3 $6",background:"linear-gradient(90deg, #29292E 0%, rgba(32, 32, 36, 0) 100%)",p:{fontWeight:"bold",color:"$text-title"}},"@media (max-width: 397px)":{width:"100%"}}),nw=e=>{let{lessonCurrentTime:n}=e,[i,t]=(0,l.useState)(1),[r,s]=(0,l.useState)(null),{currentLesson:{id:a}}=(0,q.T)(),[d]=(0,T.qX)({context:I.wj,onCompleted:()=>null,onError:()=>{}}),c=(0,l.useCallback)(()=>{setTimeout(()=>t(1),500)},[]),u=(0,l.useCallback)(async e=>{let i=n();await d({variables:{data:{lessonId:a,stars:e,time:i}}}),t(2),s(e)},[d,a]),p=(0,l.useCallback)(async e=>{let i=n();await d({variables:{data:{lessonId:a,stars:r,additionalInformation:e,time:i}}}),t(4)},[r,d,a]);return(0,o.jsx)(nj,{children:(0,o.jsx)(()=>{switch(i){case 1:return(0,o.jsx)(ng,{onSubmit:u});case 2:return setTimeout(()=>{t(3)},1500),(0,o.jsx)(nb,{title:"Sua avalia\xe7\xe3o foi enviada"});case 3:return(0,o.jsx)(Comment,{onCancel:c,onSubmit:p});default:return setTimeout(()=>{c()},1500),(0,o.jsx)(nb,{title:"Seu coment\xe1rio foi enviado"})}},{})})};var n$=i(10081),nk=i(32225),nC=i(81964);function nz(){let e=(0,ei._)(["\n  mutation CreateChallengeSubmission(\n    $challengeId: String!\n    $codeUrl: String!\n    $projectUrl: String\n  ) {\n    createChallengeSubmission(\n      data: {\n        challengeId: $challengeId\n        codeUrl: $codeUrl\n        projectUrl: $projectUrl\n      }\n    ) {\n      id\n    }\n  }\n"]);return nz=function(){return e},e}function nI(){let e=(0,ei._)(["\n  query Challenge($id: String!) {\n    challenge(id: $id) {\n      id\n      submission {\n        codeUrl\n        projectUrl\n        submittedAt\n      }\n    }\n  }\n"]);return nI=function(){return e},e}function nS(){let e=(0,ei._)(["\n  query ChallengeBySlug($slug: String!) {\n    challengeBySlug(slug: $slug) {\n      id\n      title\n      description\n      slug\n      imageUrl\n      instructionsUrl\n      requirements\n      submission {\n        codeUrl\n      }\n    }\n  }\n"]);return nS=function(){return e},e}function nT(){let e=(0,ei._)(["\n  query Challenges(\n    $searchLevels: [ChallengeLevel!]\n    $searchTags: [String!]\n    $offset: Int\n    $limit: Int\n  ) {\n    challenges(\n      searchLevels: $searchLevels\n      searchTags: $searchTags\n      offset: $offset\n      limit: $limit\n    ) {\n      nodes {\n        id\n        slug\n        title\n        description\n        level\n        imageUrl\n        tags {\n          id\n          name\n          slug\n        }\n      }\n    }\n  }\n"]);return nT=function(){return e},e}let nE={};(t=r||(r={})).Advanced="ADVANCED",t.Basic="BASIC",t.Intermediate="INTERMEDIATE";let nR=(0,n$.Ps)(nz()),nq=(0,n$.Ps)(nI());(0,n$.Ps)(nS()),(0,n$.Ps)(nT());var n_=i(49025),nD=i(67347);let nP=(0,j.zo)(s.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%",padding:"$8",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800","h2, p":{marginTop:"0",alignSelf:"center"},"@mobile":{padding:"$6",justifyContent:"space-between",minHeight:"calc(100vh - 4.5rem)"}}),nA=(0,j.zo)(s.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%"}),nL=(0,j.zo)("ol",{gap:"$4",display:"flex",flexDirection:"column",textAlign:"justify","@mobile":{marginLeft:"$6"}}),nU=(0,j.zo)(s.xu,{display:"flex",gap:"$2",width:"100%",marginTop:"$6",justifyContent:"center","@mobile":{flexDirection:"column"}}),nN=(0,j.zo)(s.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%",padding:"$8",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800",h2:{marginTop:"0",alignSelf:"center"},"@mobile":{padding:"$6",justifyContent:"space-between",minHeight:"calc(100vh - 4.5rem)"}}),nH=(0,j.zo)(s.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%"}),nO=(0,j.zo)(s.xu,{gap:"$2",display:"flex",flexDirection:"column",padding:"$6 $16",borderRadius:"$sm",background:"$grey-700",width:"100%",maxWidth:"33rem","@mobile":{padding:"$6 $4"}}),nM=(0,j.zo)(s.xu,{gap:"$3",display:"flex",alignItems:"center",width:"100%",padding:"$3 $4",borderRadius:"$sm",background:"$grey-600",svg:{color:"$discover-mid"},a:{textDecoration:"underline",fontWeight:"$regular",color:"$grey-100",wordBreak:"break-word"}});var nZ=i(6812),nV=i(2063),nB=i(63955),nQ=i(65413);let nG=nQ.Ry().shape({repository:nQ.Z_().required("Link do reposit\xf3rio \xe9 obrigat\xf3rio").url("Link deve ser uma URL v\xe1lida").matches(/(github.com)/,"Insira um reposit\xf3rio v\xe1lido"),link:nQ.Z_().required("Link \xe9 obrigat\xf3rio").url("Link deve ser uma URL v\xe1lida"),authorship:nQ.Xg().required("Confirmar autoria \xe9 obrigat\xf3rio"),authorization:nQ.Xg()}),nW=(0,j.zo)("form",{gap:"$8",display:"flex",flexDirection:"column",width:"100%","&:has(input:focus-within)":{"div > svg":{color:"$discover-mid"}},"input:-webkit-autofill":{"-webkit-text-fill-color":"#E1E1E6","-webkit-box-shadow":"0 0 0px 1000px #121214 inset"}}),nF=(0,j.zo)(s.xu,{padding:"$6 $8",background:"linear-gradient(90deg, $grey-700 0%, transparent 100%)","@mobile":{padding:"$4 $6"}}),nX=(0,j.zo)(s.xu,{gap:"$4",padding:"$2 0",display:"flex",alignItems:"center",label:{fontSize:"$sm"},"&:has(button:not(:disabled)):hover":{borderColor:"$discover-light"},'&:has(button[data-state="checked"])':{borderColor:"$discover-light"}}),nJ=(0,j.zo)(nV.fC,{width:"$4",height:"$4",minWidth:"1rem",borderRadius:"0.25rem",background:"$grey-900",border:"1px solid $grey-500",'&[data-state="checked"]':{background:"$discover-mid","> span":{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}}}),nY=(0,j.zo)(s.xu,{display:"flex",justifyContent:"flex-end",width:"100%",padding:"$6 $8","@mobile":{gap:"$4",alignItems:"center",flexDirection:"column"}}),nK=(0,j.zo)(s.xu,{gap:"$2",display:"flex","@mobile":{width:"100%",alignItems:"center",button:{width:"100%"}}}),n0=(0,eh.CG)((0,C.Q)(e=>{let{codeUrl:n,projectUrl:i,onCancel:t,onConfirm:r}=e,{user:c}=(0,z.aC)(),u=null==c?void 0:c.email,{mutateAsync:p}=y(),{handleSubmit:h,watch:g,control:x,register:v,setValue:f,formState:{errors:b}}=(0,nB.cI)({resolver:(0,nZ.X)(nG)}),{currentLesson:j}=(0,q.T)(),{handleToggleComplete:w}=(0,ey.C)(),$=g(),k=Object.keys($).filter(e=>!!$[e]).length,C=!!(null==$?void 0:$.repository),S=!!(null==$?void 0:$.link),[T]=function(e){let n={...nE,...e};return nk.D(nR,n)}({context:{service:I.qr,showToastOnError:!1}}),E=async e=>{try{var i;let t=(0,d.default)((0,a.default)(new Date,"yyyy-MM-dd")).getTime();await T({variables:{challengeId:null==j?void 0:null===(i=j.challenge)||void 0===i?void 0:i.challengeId,codeUrl:null==e?void 0:e.repository,projectUrl:null==e?void 0:e.link}}),n||p({email:u,event:"discover__projeto_final",value:t}),em.H.track("Final project submit"),r(),w(j,!0)}catch(e){m.Am.error("Algo deu errado, por favor tente novamente!")}};return(0,l.useEffect)(()=>{n&&f("repository",n,{shouldDirty:!0}),i&&f("link",i,{shouldDirty:!0})},[n,i,f]),(0,o.jsxs)(s.Zb,{css:{width:"100%",height:"100%",alignSelf:"flex-start","@mobile":{minHeight:"calc(100vh - 4.5rem)"}},children:[(0,o.jsx)(nF,{children:(0,o.jsx)(s.X6,{size:{"@initial":"md","@mobile":"sm"},children:"Projeto final"})}),(0,o.jsxs)(s.aY,{css:{display:"flex",flexDirection:"column",gap:"$8",overflowY:"auto","@mobile":{height:"100%"}},children:[(0,o.jsxs)(s.xv,{children:["Parab\xe9ns por ter chegado at\xe9 aqui! ",(0,o.jsx)("br",{}),"Queremos ver como ficou o seu projeto DevLinks (ou inspirado nele). Compartilhe com a gente!"]}),(0,o.jsxs)(nW,{children:[(0,o.jsxs)(s.xu,{css:{display:"flex",flexDirection:"column",gap:"$2"},children:[(0,o.jsx)(s.xv,{as:"label",children:"Link do reposit\xf3rio do seu projeto"}),(0,o.jsx)(s.nv,{placeholder:"Exemplo: https://github.com/maykbrito/projeto/",leftIcon:(0,o.jsx)(P.JOq,{size:24,color:C?"#4863F7":void 0}),...v("repository"),error:!!b.repository,css:{"&:focus-within":{borderColor:"$discover-mid !important"}}}),b.repository&&(0,o.jsx)(s.xv,{css:{color:"$danger-base"},children:b.repository.message})]}),(0,o.jsxs)(s.xu,{css:{display:"flex",flexDirection:"column",gap:"$2"},children:[(0,o.jsx)(s.xv,{as:"label",children:"Link p\xfablico do seu projeto (Github Pages)"}),(0,o.jsx)(s.nv,{placeholder:"Exemplo: https://maykbrito.github.io/projeto/",leftIcon:(0,o.jsx)(P.AFE,{size:24,color:S?"#4863F7":void 0}),...v("link"),error:!!b.link,css:{"&:focus-within":{borderColor:"$discover-mid !important"}}}),b.link&&(0,o.jsx)(s.xv,{css:{color:"$danger-base"},children:b.link.message})]}),(0,o.jsxs)(s.xu,{children:[(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(nB.Qr,{control:x,name:"authorship",render:e=>{let{field:n}=e;return(0,o.jsxs)(nX,{children:[(0,o.jsx)(nJ,{id:"authorship",value:void 0,onCheckedChange:n.onChange,children:(0,o.jsx)(nV.z$,{children:(0,o.jsx)(P.VQF,{size:8,color:"#ffffff"})})}),(0,o.jsx)("label",{htmlFor:"authorship",children:"Garanto que estou enviando um trabalho de minha autoria"})]})}}),b.authorship&&(0,o.jsx)(s.xv,{css:{color:"$danger-base",marginTop:"0"},children:b.authorship.message})]}),(0,o.jsx)(nB.Qr,{control:x,name:"authorization",render:e=>{let{field:n}=e;return(0,o.jsxs)(nX,{children:[(0,o.jsx)(nJ,{id:"authorization",value:void 0,onCheckedChange:n.onChange,children:(0,o.jsx)(nV.z$,{children:(0,o.jsx)(P.VQF,{size:8,color:"#ffffff"})})}),(0,o.jsx)("label",{htmlFor:"authorization",children:"Autorizo que meu projeto seja exibido na p\xe1gina de destaques do Discover"})]})}})]})]})]}),(0,o.jsx)(nY,{children:(0,o.jsxs)(nK,{children:[(0,o.jsx)(s.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:t,children:"Enviar depois"}),(0,o.jsx)(s.zx,{type:"submit",css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:h(E),disabled:k<3,children:"Enviar projeto"})]})})]})})),n1={1:e=>{let{onConfirm:n,onCancel:i}=e,{jwtToken:t}=(0,z.aC)(),r="https://discord-service.rocketseat.dev/signin?q=".concat(t);return(0,o.jsxs)(nP,{children:[(0,o.jsxs)(nA,{children:[(0,o.jsx)(nD.Z,{}),(0,o.jsx)(s.X6,{children:"Instru\xe7\xf5es para o projeto final"}),(0,o.jsxs)(nL,{css:{maxWidth:"30rem"},children:[(0,o.jsxs)(s.xv,{as:"li",children:["Assista todas as aulas do curso, nelas o Mayk mostra passo a passo como construir o site ",(0,o.jsx)(s.xv,{as:"strong",children:"DevLinks"})]}),(0,o.jsx)(s.xv,{as:"li",children:"(Opcional) Voc\xea pode fazer altera\xe7\xf5es no layout original do projeto e leva-lo ao pr\xf3ximo n\xedvel, use sua criatividade"}),(0,o.jsxs)(s.xv,{as:"li",children:["Se tiver d\xfavidas durante o processo, utilize a nossa"," ",(0,o.jsx)(s.Qj,{href:r,onClick:()=>em.H.track("Community"),css:{display:"inline-flex",fontWeight:"bold"},children:"comunidade"})," ",(0,o.jsx)(s.Qj,{href:r,css:{display:"inline-flex",fontWeight:"bold"},children:"no Discord"})," ","para buscar ajuda"]}),(0,o.jsx)(s.xv,{as:"li",children:"Quando terminar de desenvolver, volte aqui e envie seu projeto final para emitir seu certificado e compartilhar com o mundo que voc\xea finalizou seus estudos no Discover!"})]})]}),(0,o.jsxs)(nU,{children:[(0,o.jsx)(h(),{href:"/discover",passHref:!0,prefetch:!1,legacyBehavior:!0,children:(0,o.jsx)(s.zx,{as:"a",variant:"secondary",onClick:i,css:{textTransform:"uppercase"},children:"Enviar depois"})}),(0,o.jsx)(s.zx,{css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:()=>{em.H.track("Final project start"),n()},children:"Enviar agora"})]})]})},2:n0,3:e=>{let{codeUrl:n,projectUrl:i,submittedAt:t,onConfirm:r}=e;return(0,o.jsx)(s.ld,{loading:!n,children:(0,o.jsx)(s.Od,{template:n_.$K,children:(0,o.jsxs)(nN,{children:[(0,o.jsxs)(nH,{children:[(0,o.jsx)(nD.Z,{}),(0,o.jsx)(s.X6,{children:"Projeto final"}),(0,o.jsxs)(nO,{children:[(0,o.jsxs)(nM,{children:[(0,o.jsx)(P.JOq,{size:24}),(0,o.jsx)(s.Qj,{href:n,children:n})]}),(0,o.jsxs)(nM,{children:[(0,o.jsx)(P.AFE,{size:24}),(0,o.jsx)(s.Qj,{href:i,children:i})]}),(0,o.jsxs)(s.xv,{css:{color:"$grey-200",margin:"$2 auto 0"},children:["Projeto enviado ",t]})]})]}),(0,o.jsx)(s.zx,{css:{marginTop:"$8",textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:r,children:"Reenviar o projeto"})]})})})}},n2=()=>{var e,n,i,t,r,d,c,u;let[p,h]=(0,l.useState)(1),g=n1[p],{currentLesson:x,dispatch:m}=(0,q.T)(),{data:v,loading:f,refetch:b}=function(e){let n={...nE,...e};return nC.a(nq,n)}({context:{service:I.qr,showToastOnError:!1},variables:{id:null==x?void 0:null===(e=x.challenge)||void 0===e?void 0:e.challengeId}}),[y]=(0,T.P4)({context:{service:I.wj.service,showToastOnError:!1}}),j=null==v?void 0:null===(i=v.challenge)||void 0===i?void 0:null===(n=i.submission)||void 0===n?void 0:n.codeUrl,w=null==v?void 0:null===(r=v.challenge)||void 0===r?void 0:null===(t=r.submission)||void 0===t?void 0:t.projectUrl,$=(0,l.useMemo)(()=>{var e,n,i,t;if(null==v?void 0:null===(n=v.challenge)||void 0===n?void 0:null===(e=n.submission)||void 0===e?void 0:e.submittedAt)return(0,a.default)(new Date(null==v?void 0:null===(t=v.challenge)||void 0===t?void 0:null===(i=t.submission)||void 0===i?void 0:i.submittedAt),"dd/MM/yyyy")},[null==v?void 0:null===(c=v.challenge)||void 0===c?void 0:null===(d=c.submission)||void 0===d?void 0:d.submittedAt]),k=(0,l.useCallback)(async()=>{let{data:e}=await y({variables:{lessonId:null==x?void 0:x.id,completed:!1,watchedSeconds:0,watchedPercentage:0,manuallyCompleted:!1},onError:()=>{}});(null==e?void 0:e.upsertLessonProgress)&&m({type:"SET_LESSON_PROGRESS",payload:{lessonId:null==x?void 0:x.id,progress:e.upsertLessonProgress}})},[null==x?void 0:x.id,m,y]),C=(0,l.useCallback)(async()=>{2===p&&(b(),h(e=>e+1)),3===p&&h(1),1===p&&h(e=>e+1)},[p,b]),z=(0,l.useCallback)(()=>{1!==p||v||k(),1!==p&&h(e=>e-1)},[v,k,p]);return(0,l.useEffect)(()=>{var e;(null==v?void 0:null===(e=v.challenge)||void 0===e?void 0:e.submission)&&h(3)},[null==v?void 0:null===(u=v.challenge)||void 0===u?void 0:u.submission]),(0,o.jsx)(s.xu,{css:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800"},children:(0,o.jsx)(s.ld,{loading:f,children:(0,o.jsx)(s.Od,{template:n_.DT,children:(0,o.jsx)(g,{codeUrl:j,projectUrl:w,submittedAt:$,onCancel:z,onConfirm:C})})})})};var n6=i(36433),n4=i(36471),n3=i(75694);let n5=(0,j.zo)(s.xu,{padding:"$6 $8",background:"linear-gradient(90deg, $grey-700 0%, transparent 100%)","@mobile":{padding:"$4 $6"}}),n8=(0,j.zo)(s.xu,{display:"flex",justifyContent:"flex-end",width:"100%",padding:"$6 $8","@mobile":{padding:"$6 $8"}}),n9=(0,j.zo)(s.xu,{gap:"$2",display:"flex","@mobile":{width:"100%",flexDirection:"column"}}),n7=(0,j.zo)(n3.fC,{}),ie=(0,j.zo)(s.xu,{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}),ii=(0,j.zo)(s.xv,{display:"flex",marginRight:"$2",color:"$success-light","> svg":{marginRight:"$4"},variants:{isCorrect:{true:{color:"$success-light"},false:{color:"$danger-light"}}}}),it=(0,j.zo)(n3.ck,{}),ir=(0,j.zo)(n3.xz,{width:"100%",display:"flex",position:"relative",border:"none",padding:"$4",background:"$grey-700",borderBottom:"1px solid $grey-600",color:"$grey-100",fontWeight:"$bold",transition:"0.3s"}),io=(0,j.zo)(n3.VY,{padding:"$4 $8",background:"$grey-600"}),il=(0,j.zo)(s.xu,{pre:{margin:"$4 0",padding:"0 $4",marginLeft:"$8",borderRadius:"$sm",width:"fit-content",background:"$grey-600"}}),is=(0,j.zo)(s.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800",p:{marginTop:"0"},"h2, p":{alignSelf:"center"},"@mobile":{padding:"$6",height:"calc(100vh - 4.5rem)",justifyContent:"space-between"}}),ia=(0,j.zo)(s.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%"}),id=(0,j.zo)(s.xu,{gap:"$6",display:"flex"}),ic=(0,j.zo)(s.xu,{gap:"$2",display:"flex",alignItems:"center",p:{color:"$grey-300"}}),iu=(0,j.zo)(s.xu,{display:"flex",gap:"$2",width:"100%",marginTop:"$6",justifyContent:"center","@mobile":{flexDirection:"column"}}),ip=(0,j.zo)(s.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800",p:{marginTop:"0"},"h2, p":{alignSelf:"center"},"@mobile":{padding:"$6",height:"calc(100vh - 4.5rem)",justifyContent:"space-between"}}),ih=(0,j.zo)(s.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%"}),ig=(0,j.zo)(s.xu,{gap:"$2",display:"flex",flexDirection:"column",padding:"$8 $16",borderRadius:"$sm",background:"$grey-700","@mobile":{padding:"$8"}}),ix=(0,j.zo)(s.xu,{display:"flex",gap:"$2",width:"100%",marginTop:"$6",justifyContent:"center","@mobile":{flexDirection:"column"}});var im=i(60477),iv=i(76395);let ib=(0,j.zo)("form",{gap:"$3",display:"flex",flexDirection:"column",width:"100%",label:{pre:{margin:"$4 0",padding:"0 $4",marginLeft:"$8",borderRadius:"$sm",width:"fit-content",background:"$grey-700"},p:{"> code":{padding:"$1 $2",borderRadius:"2px",width:"fit-content",background:"$grey-700"}}}}),iy=(0,j.zo)(s.xu,{padding:"$6 $8",background:"linear-gradient(90deg, $grey-700 0%, transparent 100%)","@mobile":{padding:"$4 $6"}}),ij=(0,j.zo)(s.xu,{display:"flex",justifyContent:"space-between",width:"100%",padding:"$6 $8","@mobile":{gap:"$4",alignItems:"center",flexDirection:"column"}}),iw=(0,j.zo)(s.xu,{gap:"$2",display:"flex","@mobile":{width:"100%",alignItems:"center",button:{width:"100%"}}}),i$={1:e=>{let{questionsAmount:n,onCancel:i,onConfirm:t,loading:r}=e,{currentLesson:l,currentGroup:a}=(0,q.T)();return(0,o.jsx)(s.ld,{loading:r,children:(0,o.jsx)(s.Od,{template:n_.Gx,children:(0,o.jsxs)(is,{children:[(0,o.jsxs)(ia,{children:[(0,o.jsx)(nD.Z,{}),(0,o.jsx)(s.X6,{css:{margin:0},children:null==l?void 0:l.title}),(0,o.jsxs)(s.xv,{css:{maxWidth:"31.625rem",textAlign:"center"},children:["Parab\xe9ns por chegar at\xe9 aqui! Para fixar o conte\xfado do m\xf3dulo"," ",null==a?void 0:a.title,", preparamos um quiz para voc\xea. Bora l\xe1?"]}),(0,o.jsxs)(id,{children:[(0,o.jsxs)(ic,{children:[(0,o.jsx)(P.dzk,{size:20}),(0,o.jsxs)(s.xv,{children:[n-2," - ",n," minutos"]})]}),(0,o.jsxs)(ic,{children:[(0,o.jsx)(P.mKE,{size:20}),(0,o.jsxs)(s.xv,{children:[n," quest\xf5es"]})]})]})]}),(0,o.jsxs)(iu,{children:[(0,o.jsx)(s.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:i,children:"Pular por enquanto"}),(0,o.jsx)(s.zx,{css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:()=>{em.H.track("Quiz start",{Name:null==l?void 0:l.title,Module:null==a?void 0:a.title}),t()},children:"Iniciar quiz"})]})]})})})},2:e=>{let{onCancel:n,onConfirm:i}=e,{currentLesson:t,currentGroup:r}=(0,q.T)(),l=(0,nB.cI)(),{answers:a,dispatch:d,totalStep:c,currentStep:u,groupedAnswers:p,currentQuestion:h,currentQuestionGroupIdentifier:g}=(0,n4.Z)(),{handleSubmit:m,watch:v,reset:f}=l,b=v(),[y]=(0,n6.cq)({context:{service:I.EU}}),j=Object.keys(b).some(e=>!!b[e]),w=null==a?void 0:a.find(e=>{var n;return(null==e?void 0:null===(n=e.answers)||void 0===n?void 0:n.questionId)===(null==h?void 0:h.id)}),$=async e=>{let n=e[null==h?void 0:h.identifier],o=null==h?void 0:h.options.find(e=>(null==e?void 0:e.value)===n),l={identifier:g,answers:{questionId:null==h?void 0:h.id,optionId:null==o?void 0:o.id}};if(d({type:"SET_ANSWER",payload:[l]}),u===c){var s,a;let e=null==p?void 0:null===(s=p.quiz)||void 0===s?void 0:s.filter(e=>{var n;return(null==e?void 0:e.questionId)!==(null==l?void 0:null===(n=l.answers)||void 0===n?void 0:n.questionId)}),n=[...e,null==l?void 0:l.answers];await y({variables:{identifier:null==t?void 0:null===(a=t.quiz)||void 0===a?void 0:a.formId,answers:n}})}em.H.track("Quiz send",{Name:null==t?void 0:t.title,Module:null==r?void 0:r.title}),f(),i()};return(0,o.jsxs)(s.Zb,{css:{width:"100%",height:"100%","@mobile":{height:"calc(100vh - 4.5rem)"}},children:[(0,o.jsx)(iy,{children:(0,o.jsxs)(s.X6,{size:{"@initial":"md","@mobile":"sm"},children:["Question ",u,(0,o.jsxs)(s.xv,{as:"span",size:{"@initial":"lg","@mobile":"md"},children:["/",c]})]})}),(0,o.jsx)(s.aY,{css:{display:"flex",flexDirection:"column",height:"24rem",overflowY:"auto","@mobile":{height:"unset"}},children:(0,o.jsx)(nB.RV,{...l,children:(0,o.jsxs)(ib,{children:[(0,o.jsx)("label",{children:(0,o.jsx)(x.U,{children:null==h?void 0:h.value})}),(0,o.jsx)(im.r,{data:h})]})})}),(0,o.jsxs)(ij,{children:[(0,o.jsx)(iv.E,{currentStep:u,totalStep:c}),(0,o.jsxs)(iw,{children:[(0,o.jsx)(s.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:n,children:"Voltar"}),(0,o.jsx)(s.zx,{type:"submit",css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:m($),disabled:!j&&!w,children:u===c?"Enviar respostas":"Continuar"})]})]})]})},3:e=>{var n;let{onCancel:i,onConfirm:t}=e,[r,a]=(0,l.useState)([]),{currentLesson:d}=(0,q.T)(),{dispatch:c}=(0,n4.Z)(),{handleToggleComplete:u}=(0,ey.C)(),{data:p,loading:h}=(0,n6.wZ)({context:{service:I.EU},variables:{identifier:null==d?void 0:null===(n=d.quiz)||void 0===n?void 0:n.formId},fetchPolicy:"no-cache"}),g=null==p?void 0:p.questionsByGroupSlug,m=(0,l.useMemo)(()=>{let e=null==g?void 0:g.map(e=>{var n,i;let t=null==e?void 0:null===(n=e.userAnswer)||void 0===n?void 0:n.find(e=>!!e),r=null==e?void 0:e.id,o=null==e?void 0:e.value,l=null==t?void 0:t.isCorrect,s=null==t?void 0:null===(i=t.option)||void 0===i?void 0:i.value;return{questionId:r,questionTitle:o,optionTitle:s,isCorrect:l}});return e},[g]),v=null==g?void 0:g.length,f=(null==m?void 0:m.filter(e=>!!e.isCorrect).length)||0,b=null==g?void 0:g.map(e=>{var n;return{identifier:null==d?void 0:null===(n=d.quiz)||void 0===n?void 0:n.formId,answers:{questionId:null==e?void 0:e.id,optionId:""}}}),y=(0,l.useCallback)(()=>{c({type:"SET_ANSWER",payload:b}),i()},[b,c,i]);return(0,l.useEffect)(()=>{(null==m?void 0:m.length)&&u(d,!0)},[null==m?void 0:m.length,d,u]),(0,o.jsxs)(s.Zb,{css:{width:"100%",height:"100%","@mobile":{height:"calc(100vh - 4.5rem)"}},children:[(0,o.jsx)(n5,{children:(0,o.jsx)(s.X6,{size:{"@initial":"md","@mobile":"sm"},children:null==d?void 0:d.title})}),(0,o.jsx)(s.aY,{css:{gap:"$2",display:"flex",flexDirection:"column",height:"24rem",overflowY:"auto","@mobile":{height:"unset"}},children:(0,o.jsx)(s.ld,{loading:h||!m.length,children:(0,o.jsxs)(s.Od,{template:n_.y,children:[(0,o.jsx)(s.X6,{size:{"@initial":"md","@mobile":"sm"},children:f===v?"Parab\xe9ns, voc\xea acertou todas as quest\xf5es!":0===f?"Ops, voc\xea errou todas as quest\xf5es.":"Voc\xea acertou ".concat(f," de ").concat(v," quest\xf5es.")}),(0,o.jsx)(s.xv,{children:"Toque para expandir e conferir as respostas. Lembre-se que voc\xea pode assistir aulas de novo e refazer o quiz para refor\xe7ar seus conhecimentos."}),(0,o.jsx)(n7,{type:"multiple",value:r,onValueChange:a,children:!h&&m&&(null==m?void 0:m.map((e,n)=>{let{questionTitle:i,optionTitle:t,isCorrect:r}=e;return(0,o.jsxs)(it,{value:i,children:[(0,o.jsx)(ir,{children:(0,o.jsxs)(ie,{children:[(0,o.jsxs)(s.xv,{css:{width:"100%",display:"flex",flexWrap:"wrap",textAlign:"left",fontWeight:400},children:[(0,o.jsxs)(ii,{as:"strong",isCorrect:r,children:[r?(0,o.jsx)(P.GcF,{}):(0,o.jsx)(P.Jvf,{}),"Question ",n+1,"."]}),(0,o.jsx)(il,{children:(0,o.jsx)(x.U,{children:i})})]}),(0,o.jsx)(P.CgR,{})]})}),(0,o.jsxs)(io,{children:[(0,o.jsx)(s.xv,{as:"strong",children:"Sua resposta"}),(0,o.jsx)(s.xv,{css:{marginTop:"unset"},children:(0,o.jsx)(x.U,{children:t})})]})]},i)}))})]})})}),(0,o.jsx)(n8,{children:(0,o.jsxs)(n9,{children:[(0,o.jsx)(s.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:y,disabled:h,children:"Refazer quiz"}),(0,o.jsx)(s.zx,{type:"submit",css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:t,disabled:h,children:"Pr\xf3xima aula"})]})})]})},4:e=>{var n;let{onCancel:i,onConfirm:t,answerData:r}=e,{currentLesson:d}=(0,q.T)(),{dispatch:c}=(0,n4.Z)(),{data:u,loading:p}=(0,n6.wZ)({context:{service:I.EU},variables:{identifier:null==d?void 0:null===(n=d.quiz)||void 0===n?void 0:n.formId}}),h=null==u?void 0:u.questionsByGroupSlug,g=null==r?void 0:r.questionsCount,x=null==r?void 0:r.correctAnswersCount,m=x/g,v=m>=.6,f=new Intl.NumberFormat("default",{style:"percent",maximumFractionDigits:0}).format(m),b=(0,l.useMemo)(()=>(null==r?void 0:r.submittedAt)?(0,a.default)(new Date(null==r?void 0:r.submittedAt),"dd/MM/yyyy"):"",[null==r?void 0:r.submittedAt]),y=null==h?void 0:h.map(e=>{var n;return{identifier:null==d?void 0:null===(n=d.quiz)||void 0===n?void 0:n.formId,answers:{questionId:null==e?void 0:e.id,optionId:""}}}),j=(0,l.useCallback)(()=>{c({type:"SET_ANSWER",payload:y}),i()},[y,c,i]);return(0,o.jsx)(s.ld,{loading:!r||p,children:(0,o.jsx)(s.Od,{template:n_.Gx,children:(0,o.jsxs)(ip,{children:[(0,o.jsxs)(ih,{children:[(0,o.jsx)(nD.Z,{}),(0,o.jsx)(s.X6,{css:{margin:0},children:null==d?void 0:d.title}),(0,o.jsxs)(ig,{children:[(0,o.jsxs)(s.xv,{children:[(0,o.jsx)(s.xv,{as:"strong",children:"Resultado: "}),x," de ",g," quest\xf5es",(0,o.jsxs)(s.xv,{as:"strong",css:{color:v?"$success-light":"$danger-light"},children:[" ","(",f,")"]})]}),(0,o.jsxs)(s.xv,{children:["Quiz realizado em ",b]})]})]}),(0,o.jsxs)(ix,{children:[(0,o.jsx)(s.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:j,children:"Refazer quiz"}),(0,o.jsx)(s.zx,{css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:t,children:"Ver respostas"})]})]})})})}},ik=e=>{var n,i;let{quizId:t,handleNextLesson:r}=e,[a,d]=(0,l.useState)(1),{dispatch:c}=(0,n4.Z)(),{currentLesson:u,dispatch:p}=(0,q.T)(),[h,g]=(0,l.useState)(0),x=i$[a],{data:m,refetch:v}=(0,n6.ii)({context:{service:I.EU},variables:{id:t}}),{data:f,refetch:b}=(0,n6.Kb)({context:{service:I.EU},variables:{groupIdentifier:t}}),[y]=(0,T.P4)({context:{service:I.wj.service,showToastOnError:!1}}),j=null==m?void 0:m.questionsByGroupId,w=null==j?void 0:j[h],$=1===a?1:h+1,k=null==j?void 0:j.length,C=(0,l.useCallback)(async()=>{let{data:e}=await y({variables:{lessonId:null==u?void 0:u.id,completed:!1,watchedSeconds:0,watchedPercentage:0,manuallyCompleted:!1},onError:()=>{}});(null==e?void 0:e.upsertLessonProgress)&&p({type:"SET_LESSON_PROGRESS",payload:{lessonId:null==u?void 0:u.id,progress:e.upsertLessonProgress}})},[null==u?void 0:u.id,p,y]),z=(0,l.useCallback)(async()=>{1===a&&d(e=>e+1),2===a&&(h+1===(null==j?void 0:j.length)?d(3):g(e=>e+1)),3===a&&r(),4===a&&d(3)},[a,h]),S=(0,l.useCallback)(()=>{1===a&&(C(),r()),2===a&&(0===h?d(1):g(e=>e-1)),(3===a||4===a)&&(g(0),d(1))},[a,h,r,C]);return(0,l.useEffect)(()=>{var e;if(null==f?void 0:null===(e=f.getQuestionGroupReport)||void 0===e?void 0:e.submittedAt){d(4);return}d(1),g(0)},[null==f?void 0:null===(n=f.getQuestionGroupReport)||void 0===n?void 0:n.submittedAt,t]),(0,l.useEffect)(()=>{var e;c({type:"SET_STEPS_INFO",payload:{totalStep:k,currentStep:$}}),c({type:"SET_CURRENT_QUESTION",payload:{currentQuestion:w,currentQuestionGroupIdentifier:null==u?void 0:null===(e=u.quiz)||void 0===e?void 0:e.formId}})},[w,$,k,u,m,null==u?void 0:null===(i=u.quiz)||void 0===i?void 0:i.formId,c]),(0,l.useEffect)(()=>{b(),v()},[v,t,b]),(0,o.jsx)(s.xu,{css:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800"},children:(0,o.jsx)(x,{onCancel:S,onConfirm:z,questionsAmount:null==j?void 0:j.length,loading:!f||!m,answerData:null==f?void 0:f.getQuestionGroupReport})})},iC=()=>{let[e,n]=(0,l.useState)(()=>{try{let e=window.localStorage.getItem("@Skylab:autoplay");return!!e&&JSON.parse(e)}catch(e){return!1}}),i=(0,l.useCallback)(()=>{try{let i=!e;n(i),window.localStorage.setItem("@Skylab:autoplay",i.toString())}catch(e){}},[e]);return[e,i]},iz=(0,j.zo)("div",{width:"100%",margin:"auto",display:"flex",maxWidth:"87rem",alignItems:"center",flexDirection:"column",minHeight:"calc(100vh - 5.5rem - 4.5rem)",px:"$6",gap:"$8",h2:{alignSelf:"flex-start"},p:{alignSelf:"flex-start"},"@mobile":{padding:"0"}}),iI=(0,j.zo)("div",{position:"relative",display:"flex",width:"100%",gap:"$8",paddingTop:"$8","@mobile":{flexDirection:"column",gap:"$5",paddingTop:"unset","> div:first-child":{borderRadius:"unset","> div":{borderRadius:"unset"}},"> div:last-child":{display:"none"}},variants:{theaterMode:{true:{paddingTop:"unset",gap:"unset"}}}}),iS=(0,j.zo)("div",{display:"flex",width:"100%",marginBottom:"8.75rem",justifyContent:"space-between","@mobile":{px:"$6",flexDirection:"column"}}),iT=(0,j.zo)("div",{display:"flex",flexDirection:"column",gap:"$4","> div > p":{color:"$grey-200"}}),iE=(0,j.zo)("div",{display:"flex",alignItems:"center",margintTop:"$2",div:{margin:"auto 0"},"@mobile":{marginBottom:"2.5rem"}}),iR=(0,eh.CG)(E.HL.withPage(e=>{var n;return{context:I.wj,variables:{slug:null===(n=e.query)||void 0===n?void 0:n.courseSlug}}})((0,C.Q)(e=>{var n,i,t;let{data:r}=e,{user:c,isRecoveringUserSession:p}=(0,z.aC)(),v=(0,g.useRouter)(),f=null==c?void 0:c.email,{lessonGroups:b,currentGroup:j,currentLesson:w,groupOrLessonNotFound:C,dispatch:E}=(0,q.T)(),{theater:_,changedProgress:D,handleSetIsCompleted:P,handleSetTheaterMode:A,toggledCompleteLesson:L}=(0,ey.C)(),{dispatch:U}=(0,ef.m)(),[N,H]=iC(),{mutateAsync:O}=y(),M=(0,l.useRef)(),Z=(0,l.useRef)(!1),V=(0,l.useRef)(),B=(0,l.useRef)(),Q=(0,l.useRef)(""),[G,W]=(0,l.useState)(!1),F=null==r?void 0:r.course,X=(null==w?void 0:w.type)==="VIDEO",J=(0,l.useMemo)(()=>{var e;return(null===(e=v.query)||void 0===e?void 0:e.path)||[]},[null===(n=v.query)||void 0===n?void 0:n.path]),[Y,K]=J,ee=(0,l.useCallback)(e=>{if(!(null==M?void 0:M.current))return;let n=M.current.getPlayerInstance();if(!n)return;let i=Math.min(Math.max(0,n.getCurrentTime()+e),n.getDuration());n.currentTime(i)},[M]),en=(0,l.useCallback)(()=>{if(!(null==M?void 0:M.current))return;let e=M.current.getPlayerInstance();if(!e)return;let n=Math.min(Math.max(0,e.getCurrentTime()),e.getDuration()).toFixed(0);return e.setCurrentTime(n),Number(n)},[M]),{data:ei,refetch:et,loading:er}=(0,T._0)({context:{service:I.wj.service,showToastOnError:!1},variables:{courseSlug:null==F?void 0:F.slug},fetchPolicy:"no-cache"}),{data:eo}=(0,T.eU)({context:{service:I.wj.service,showToastOnError:!1}}),el=!!(null==eo?void 0:null===(i=eo.getEnrollment)||void 0===i?void 0:i.startedAt),{data:es}=(0,S.H4)({context:{service:I.iR,showToastOnError:!1},variables:{identifier:null==F?void 0:null===(t=F.trail)||void 0===t?void 0:t.id}}),[ea]=(0,T.Bi)({context:{service:I.wj.service,showToastOnError:!1}}),[ed,{loading:ec}]=(0,T.P4)({context:{service:I.wj.service,showToastOnError:!1}}),eu=(0,l.useCallback)(async(e,n,i)=>{let{data:t}=await ed({variables:{lessonId:e,completed:n,...i},onError:()=>{}});(null==t?void 0:t.upsertLessonProgress)&&E({type:"SET_LESSON_PROGRESS",payload:{lessonId:e,progress:t.upsertLessonProgress}}),i.completed&&(et(),D.current=!0)},[ed,E]);(0,l.useEffect)(()=>{var e;let n=b||[],i=null==n?void 0:n.every(e=>{var n,i;return null===(i=e.lessons)||void 0===i?void 0:null===(n=i.filter(e=>!e.slug.match(/^(windows|mac|linux)-/gi)))||void 0===n?void 0:n.every(e=>{var n;return null===(n=e.progress)||void 0===n?void 0:n.completed})});P(i),!i||!D.current||ec||(null==w?void 0:null===(e=w.progress)||void 0===e?void 0:e.completed)&&""===L.current||(W(!0),D.current=!1,L.current="")},[b,ec,w,L.current]);let eh=(0,l.useMemo)(()=>u()(e=>{var n,i;let{time:t}=e;if(!(null==M?void 0:M.current))return;let r=null==M?void 0:null===(n=M.current)||void 0===n?void 0:n.getPlayerInstance(),o=w.id,l=null==w?void 0:null===(i=w.progress)||void 0===i?void 0:i.completed,s=null==r?void 0:r.getDuration();!o||!s||!t||r.isPaused()||eu(o,l,{watchedSeconds:Math.round(t)||0,watchedPercentage:Math.round(t/s*100)||0})},I.hA,{trailing:!1}),[eu,w]),eg=(0,l.useCallback)((e,n)=>{v.push("/discover/course/".concat(null==F?void 0:F.slug,"/").concat(e.slug,"/").concat(n.slug),void 0,{shallow:!0})},[v,null==F?void 0:F.slug]),ex=(0,l.useCallback)(()=>{if((null==w?void 0:w.id)!==Q.current){let e=(0,d.default)((0,a.default)(new Date,"yyyy-MM-dd")).getTime();O({email:f,event:"discover__ultima_aula_assistida",value:e}),Q.current=null==w?void 0:w.id}},[null==w?void 0:w.id,f,O]),em=(0,l.useCallback)(()=>{let{nextGroup:e,nextLesson:n}=R({lessonGroups:b,currentGroup:j,currentLesson:w});n&&(V.current=setTimeout(()=>eg(e,n),I.Xf),B.current=m.Am.success((0,o.jsxs)(o.Fragment,{children:["Pulando para a pr\xf3xima aula em ",I.Xf/1e3," segundos. Clique para cancelar."]}),{toastId:w.id,autoClose:I.Xf,pauseOnHover:!1,onClick:()=>clearTimeout(V.current)}))},[j,w,eg,b]),ev=(0,l.useCallback)(()=>{let{id:e}=w;L.current="",e&&(eu(e,!0,{watchedPercentage:100,watchedSeconds:0,manuallyCompleted:!1}),el||ea(),N&&em())},[w,eu,N,em]);(0,l.useEffect)(()=>{let e=null==ei?void 0:ei.courseProgress;e&&b.forEach(n=>{n.lessons.forEach(n=>{let i=e.find(e=>e.slug===n.slug);E({type:"SET_LESSON_PROGRESS",payload:{lessonId:n.id,progress:{completed:(null==i?void 0:i.completed)||!1}}})})})},[null==ei?void 0:ei.courseProgress,Z.current]),(0,l.useEffect)(()=>{(J.length>2||C)&&v.push("/discover/course/".concat(null==F?void 0:F.slug,"/").concat(Y)),V.current&&clearTimeout(V.current),B.current&&m.Am.dismiss(B.current)},[J,v,C,F,Y]),(0,l.useEffect)(()=>{Z.current||(E({type:"SET_COURSE_DATA",payload:F}),Z.current=!0)},[E,F]),(0,l.useEffect)(()=>{E({type:"SET_CURRENT",payload:{groupSlug:Y,lessonSlug:K}})},[E,Y,K,ei]),(0,l.useEffect)(()=>{es&&U({type:"SET_CERTIFICATE_DATA",payload:null==es?void 0:es.certificateIssuerByCourse})},[es,U,E]);let ej=(0,l.useCallback)(()=>{var e,n,i,t,r,l;switch(w.type){case"QUIZ":return(0,o.jsx)(ik,{quizId:null==w?void 0:null===(e=w.quiz)||void 0===e?void 0:e.formId,handleNextLesson:em});case"CHALLENGE":return(0,o.jsx)(n2,{});default:return(0,o.jsx)(ep,{product:"discover",journey:null==F?void 0:F.trail.slug,platform:"panda",videoId:null==w?void 0:null===(n=w.video)||void 0===n?void 0:n.jupiterVideoId,lessonId:w.id,signalLanguageVideoId:null==w?void 0:null===(i=w.video)||void 0===i?void 0:i.signalLanguageVideoId,audioDescriptionVideoId:null==w?void 0:null===(t=w.video)||void 0===t?void 0:t.audioDescriptionVideoId,onPlay:ex,autoplay:N,hasCaption:null==w?void 0:null===(r=w.video)||void 0===r?void 0:r.hasCaption,startTime:null==w?void 0:null===(l=w.progress)||void 0===l?void 0:l.watchedSeconds,theater:_,onToggleAutoplay:H,onTimeUpdate:eh,onEnd:ev,onSeek:ee,onToggleTheater:A,ref:M})}},[N,null==F?void 0:F.trail.slug,w,ev,em,ee,A,eh,H,_]);return w?p||er?(0,o.jsx)(k.I,{}):(0,o.jsx)(ns,{children:(0,o.jsxs)(iz,{children:[(0,o.jsxs)(iI,{theaterMode:_,children:[ej(),(0,o.jsx)(e3,{})]}),(0,o.jsxs)(iS,{children:[(0,o.jsxs)(iT,{children:[(0,o.jsx)(s.X6,{size:{"@initial":"lg","@mobile":"sm"},children:w.title}),w.description&&(0,o.jsx)($,{children:(0,o.jsx)(x.U,{children:w.description})}),(0,o.jsxs)(iE,{children:[(0,o.jsx)(h(),{href:"".concat("https://app.rocketseat.com.br","/me/maykbrito"),prefetch:!1,children:(0,o.jsx)(s.qE,{src:"https://github.com/maykbrito.png",name:"Mayk Brito",theme:"educator",css:{marginRight:"$4"}})}),(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(h(),{href:"".concat("https://app.rocketseat.com.br","/me/maykbrito"),prefetch:!1,children:(0,o.jsx)(s.X6,{css:{fontSize:"$md"},children:"Mayk Brito"})}),(0,o.jsx)(s.xv,{css:{fontSize:"$sm",marginTop:"unset"},children:"Educator na Rocketseat"})]})]})]}),X&&(0,o.jsx)(nw,{lessonCurrentTime:en})]}),(0,o.jsx)(eb.J,{visible:G,trailTitle:"Discover",trailImage:I.yI,onCancel:()=>W(!1)})]})}):null})));var iq=!0},52914:function(e,n,i){"use strict";i.d(n,{T:function(){return l}});var t=i(73235),r=i(63964);function o(){let e=(0,t._)(["\n  &::-webkit-scrollbar {\n    width: 4px;\n    height: 4px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #29292e;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #4d4d57;\n  }\n\n  ::-webkit-scrollbar-corner {\n    background: #29292e;\n  }\n\n  scrollbar-width: thin;\n  scrollbar-color: #4d4d57 #29292e;\n"]);return o=function(){return e},e}let l=(0,r.iv)(o())},43558:function(){}},function(e){e.O(0,[9866,2977,7179,9792,8903,3325,6577,1516,2134,5907,1776,1027,534,3090,3878,9138,6237,2063,6508,5086,7883,3294,8434,2054,9774,2888,179],function(){return e(e.s=12253)}),_N_E=e.O()}]);